<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Page</title>
    <style>

        nav {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            position: absolute;
            top: 10px;
            left: 10px;
        }

        .member {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            position: absolute;
            top: 10px;
            right: 10px;
        }

        .profile-info {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            position: absolute;
            top: 150px;
        }

        .profile-edit {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            position: absolute;
            top: 350px;
        }

        .profile-board {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            position: absolute;
            top: 500px;
        }
    </style>
    <script th:src="@{/js/jquery-3.7.1.min.js}"></script>
    <script>
        $(document).ready(function () {
            $('#alarmEdit').click(alarmEdit);
            $('#deleteId').click(deleteId);
            $('.myAlarm').click(showAlarm);
            $('.myShare').click(showShare);
            $('.myBookmark').click(showBookmark);
        });

        function alarmEdit() {
        }

        function deleteId() {

        }

        // function showAlarm() {
        //     $.ajax({
        //         url: 'myPage/alarmSave',
        //         type: 'GET',
        //         dataType: 'json',
        //         success: function (response) {
        //             // 알림 데이터를 받아서 화면에 표시
        //             let notifications = '';
        //             response.forEach(function (notification) {
        //                 notifications += '<p>' + notification.message + ' (' + notification.createdAt + ')</p>';
        //             });
        //             $('#notification-list').html(notifications).show();
        //         },
        //         error: function () {
        //             alert('알림을 가져오는 데 실패했습니다.');
        //         }
        //     });
        // }

        function showAlarm() {
        }

        function showShare() {
        }

        function showBookmark() {
        }
    </script>
</head>
<body>
<header>
    <!-- 네비게이션 바 -->
    <nav>
        <p><a href="">로고</a></p>
        <p><a th:href="@{/info/service}">우리는..</a></p>
        <p><a th:href="@{/share/list}">나눠요</a></p>
        <p><a th:href="@{/recycle/recycleList}">버려요</a></p>
    </nav>

    <!--  회원 기능  -->
    <div class="member">
        <th:block sec:authorize="not isAuthenticated()">
            <p>
                <a th:href="@{/member/join}">회원가입</a>
            </p>
            <p>
                <a th:href="@{/member/loginForm}">로그인</a>
            </p>
        </th:block>
        <th:block sec:authorize="isAuthenticated()">
            <p>
                <a th:href="@{/member/logout}">로그아웃</a>
            </p>
            <p>
                <a th:href="@{/myPage/view}">마이페이지</a>
            </p>
        </th:block>
    </div>
</header>

<main>
    <!--  프로필 정보 제공  -->
    <section class="profile-info">
        <!--  닉네임  -->
        <p th:text="${userNickname}">닉네임</p>
        <!--  나눔 수  -->
        <p th:text="${shareCount}">나눔 수</p>
        <!--  나의 알림  -->
        <!--  <p th:text="${alarmTotal}">나의 알림</p>  -->
    </section>

    <!--  프로필 편집  -->
    <section class="profile-edit">
        <!--  프로필 수정  -->
        <p><a th:href="@{/myPage/profileEdit}">프로필 수정</a></p>
        <!--  알림 추가  -->
        <button class="alarmEdit">알림 수정</button>
        <!--  ID 탈퇴  -->
        <button class="deleteId">ID 탈퇴</button>
    </section>

    <!--  맞춤형 보드 제공  -->
    <section class="profile-board">
        <!--  알림 띄우기  -->
        <button class="myAlarm">나의 알림</button>
        <!--  알림 편집  -->
        <!--  해당 알람만 편집  -->
        <!--  나눔 현황 띄우기  -->
        <button class="myShare">나의 나눔</button>
        <!--  북마크 띄우기  -->
        <button class="myBookmark">북마크</button>
    </section>
</main>
<footer>
</footer>
</body>
</html>
