<!DOCTYPE html>
<html
        lang="ko"
        xmlns:th="http://thymeleaf.org"
        xmlns:sec="http://thymeleaf.org/extras/spring-security"
>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>에코나비 - 환경 보호 플랫폼</title>
    <style>
        /* 기본 리셋 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* 전역 스타일 */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f4f6f8;
            color: #333;
            line-height: 1.6;
        }

        /* 네비게이션 바 */
        .navigationContainer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ffffff;
            padding: 15px 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo img.logoImg {
            height: 40px;
        }

        .projectInfo a {
            margin: 0 15px;
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            transition: color 0.3s;
        }

        .projectInfo a:hover {
            color: #3498db;
        }

        .rightGroup {
            display: flex;
            align-items: center;
        }

        .rightGroup div {
            margin-left: 20px;
        }

        .rightGroup a {
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            transition: color 0.3s;
        }

        .rightGroup a:hover {
            color: #3498db;
        }

        /* 호버 효과 */
        .joinHover, .loginHover, .messageHover, .mypageHover, .logoutHover {
            position: relative;
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s, color 0.3s;
        }

        .joinHover:hover, .loginHover:hover, .messageHover:hover, .mypageHover:hover, .logoutHover:hover {
            background-color: #3498db;
            color: #ffffff;
        }

        /* 배지 스타일 */
        .badge {
            background-color: #e74c3c;
            color: #ffffff;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.8em;
            position: absolute;
            top: -5px;
            right: -10px;
        }

        /* 모달 스타일 */
        .modal {
            display: none; /* 기본적으로 숨김 */
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background-color: #ffffff;
            margin: 10% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            position: relative;
        }

        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: #000000;
            text-decoration: none;
        }

        /* 메인 컨테이너 */
        .blankContainer {
            height: 20px; /* 원하는 높이로 조정 */
        }

        /* 프로필 수정 폼 */
        #mainContainer {
            display: flex;
            justify-content: center;
            padding: 40px 20px;
        }

        #modifyArea {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
        }

        #modifyTitleArea {
            text-align: center;
            margin-bottom: 30px;
        }

        #modifyTitle {
            font-size: 1.8em;
            color: #2c3e50;
            font-weight: bold;
        }

        #imageArea {
            text-align: center;
            margin-bottom: 30px;
        }

        #imageEdit button.imageChange {
            border: none;
            background: none;
            cursor: pointer;
        }

        #imageEdit img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #3498db;
            transition: transform 0.3s;
        }

        #imageEdit button.imageChange:hover img {
            transform: scale(1.05);
        }

        /* 폼 섹션 스타일 */
        #modifyArea > div[id$="Area"] {
            margin-bottom: 20px;
        }

        #modifyArea div[id$="UpsideArea"] {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        #modifyArea div[id$="Title"] {
            font-size: 1em;
            color: #34495e;
            font-weight: 500;
        }

        #modifyArea div[id$="DoubleCheck"],
        #modifyArea div[id$="Button"],
        #modifyArea div[id$="codeButton"] {
            background-color: #3498db;
            color: #ffffff;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s;
        }

        #modifyArea div[id$="DoubleCheck"]:hover,
        #modifyArea div[id$="Button"]:hover,
        #modifyArea div[id$="codeButton"]:hover {
            background-color: #2980b9;
        }

        #modifyArea input[type="text"],
        #modifyArea input[type="password"] {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        #modifyArea input[type="text"]:focus,
        #modifyArea input[type="password"]:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }

        #modifyArea div[id$="Error"] {
            margin-top: 5px;
            font-size: 0.85em;
            display: none; /* 초기에는 숨김 */
        }

        /* 설명 텍스트 */
        #idArea span {
            display: block;
            margin-top: 5px;
            font-size: 0.85em;
            color: #7f8c8d;
        }

        /* 버튼 영역 */
        #buttonArea {
            text-align: center;
            margin-top: 30px;
        }

        #modifyButton {
            background-color: #2ecc71;
            color: #ffffff;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        #modifyButton:hover {
            background-color: #27ae60;
        }

        /* 숨겨진 입력 필드 */
        input[type="hidden"] {
            display: none;
        }

        /* 푸터 */
        /*.rightContainer {*/
        /*    text-align: center;*/
        /*    padding: 20px;*/
        /*    background-color: #ffffff;*/
        /*    position: fixed;*/
        /*    width: 100%;*/
        /*    bottom: 0;*/
        /*    box-shadow: 0 -2px 4px rgba(0,0,0,0.1);*/
        /*    font-size: 0.9em;*/
        /*    color: #7f8c8d;*/
        /*}*/

        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .navigationContainer {
                flex-direction: column;
                align-items: flex-start;
            }

            .projectInfo a {
                margin: 10px 0;
            }

            #mainContainer {
                padding: 20px 10px;
            }

            #modifyArea {
                padding: 20px;
            }

            #modifyTitle {
                font-size: 1.5em;
            }

            #modifyButton {
                width: 100%;
            }
        }
    </style>
    <!-- script -->
    <script th:src="@{/js/jquery-3.7.1.min.js}"></script>
    <script>
        var file; // 선택된 파일을 저장할 변수
        $(document).ready(function () {
            $("#nickDuplicationCheck").val("");
            $("#emailDuplicationCheck").val("");
            $('#passwordDuplicationCheck').val("");

            $('#modifyButton').click(function () {
                if (confirm('수정하시겠습니까?'))
                    return true;
                else
                    return false;
            })

            $('#modifyPost').submit(function (event) {
                console.log("폼 제출 이벤트 호출됨");

                // 폼 제출 막기
                event.preventDefault();

                // 폼 검증 로직
                if (!check()) {
                    console.log("폼 제출이 막힘");
                } else {
                    // 프로필 이미지 업로드
                    profileImageEdit(function() {
                        console.log("폼 제출 허용");
                        // 이미지 업로드 후 폼을 수동으로 제출
                        $('#modifyPost')[0].submit();
                    });
                }
            });

            // 비밀번호 유효성 검사 (keyup 시)
            $("#memberPw").on("keyup", function () {
                validatePassword();
            });

            //비밀번호 확인 검사
            $("#pwCheck").on("keyup", function () {
                checkPasswordMatch();
            });

            // 이미지 변경 버튼 클릭 시 파일 입력 창을 열기
            $('#imageChangeBtn').on('click', function () {
                $('#fileInput').click();
            });


            // 파일 선택 시 이미지 미리보기 처리
            $('#fileInput').on('change', function (event) {
                console.log("이미지 미리보기");
                file = event.target.files[0]; // 선택한 파일 저장
                if (file) {
                    // 이미지 미리보기를 위해 FileReader 객체 생성
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        // 선택한 이미지를 프로필 이미지로 설정
                        $('#profileImage').attr('src', e.target.result);
                    }
                    reader.readAsDataURL(file); // 파일을 데이터 URL로 읽기
                }
            });

            // 파일 선택 시 이벤트 처리
            // $('#fileInput').on('change', function (event) {
            //     console.log("fileCheck");
            //     var file = event.target.files[0]; // 선택한 파일 가져오기
            //     if (file) {
            //         // 이미지 미리보기를 위해 FileReader 객체 생성
            //         var reader = new FileReader();
            //         reader.onload = function (e) {
            //             // 선택한 이미지를 프로필 이미지로 설정
            //             $('#profileImage').attr('src', e.target.result);
            //         }
            //         reader.readAsDataURL(file); // 파일을 데이터 URL로 읽기
            //
            //         // 서버로 파일 업로드를 위한 FormData 객체 생성
            //         var formData = new FormData();
            //         formData.append('file', file);
            //
            //         // AJAX 요청을 통해 서버에 이미지 업로드
            //         $.ajax({
            //             url: '/myPage/uploadProfileImage', // 서버 업로드 엔드포인트 URL
            //             type: 'POST',
            //             data: formData,
            //             processData: false, // 파일 데이터를 문자열로 변환하지 않음
            //             contentType: false, // 기본 Content-Type 헤더 설정 안 함
            //             success: function (data) {
            //                 // 업로드 성공 시 처리 로직
            //                 console.log('이미지 업로드 성공:', data);
            //             },
            //             error: function (error) {
            //                 // 업로드 실패 시 처리 로직
            //                 console.error('이미지 업로드 실패:', error);
            //             }
            //         });
            //     }
            // });
        });

        // 프로필 이미지 편집 함수
        function profileImageEdit(callback) {
            if (file) {
                // 서버로 파일 업로드를 위한 FormData 객체 생성
                var formData = new FormData();
                formData.append('file', file);

                // AJAX 요청을 통해 서버에 이미지 업로드
                $.ajax({
                    url: '/myPage/uploadProfileImage', // 서버 업로드 엔드포인트 URL
                    type: 'POST',
                    data: formData,
                    processData: false, // 파일 데이터를 문자열로 변환하지 않음
                    contentType: false, // 기본 Content-Type 헤더 설정 안 함
                    success: function (data) {
                        // 업로드 성공 시 처리 로직
                        console.log('이미지 업로드 성공:', data);

                        // 이미지 업로드 성공 시 콜백 실행 (폼 제출 허용)
                        if (typeof callback === 'function') {
                            callback();
                        }
                    },
                    error: function (error) {
                        // 업로드 실패 시 처리 로직
                        console.error('이미지 업로드 실패:', error);
                    }
                });
            } else {
                console.log('파일이 선택되지 않았습니다.');

                // 파일이 선택되지 않은 경우에도 콜백을 실행
                if (typeof callback === 'function') {
                    callback();
                }
            }
        }

        // 비밀번호 유효성 검사 함수
        function validatePassword() {
            let memberPw = $("#memberPw").val().trim();
            console.log(memberPw);
            if (memberPw !== "") {
                if (memberPw.length < 8) {
                    $("#passwordError").text("비밀번호는 8자 이상으로 입력해 주세요.").show().css("color", "red");
                    return false;
                } else {
                    $("#passwordError").text("사용가능한 비밀번호 입니다.").show().css("color", "blue");
                    return true;
                }
            } else {
                $("#passwordError").text("");
                return true;
            }
        }

        // 비밀번호 확인 검사 함수
        function checkPasswordMatch() {
            let memberPw = $("#memberPw").val().trim();
            let pwCheck = $("#pwCheck").val().trim();
            console.log(memberPw);
            console.log(pwCheck);
            if (!(memberPw === "" && pwCheck === "")) {
                if (memberPw === pwCheck) {
                    $("#pwCheckError").text("비밀번호가 일치합니다.").show().css("color", "blue");
                    $('#passwordDuplicationCheck').val("y");
                } else {
                    $("#pwCheckError").text("비밀번호가 일치하지 않습니다.").show().css("color", "red");
                    $('#passwordDuplicationCheck').val("n");
                }
            } else if (memberPw === "" && pwCheck === "") {
                $("#pwCheckError").text("");
                $('#passwordDuplicationCheck').val("");
            } else {
                $('#passwordDuplicationCheck').val("n");
            }
        }

        // 이메일 형식을 확인하는 정규 표현식 함수
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // 로그인한 이메일과 동일한지 여부
        function isLoggedEmail() {
            var email = $("#memberEmail").val().trim();
            var loggedEmail = $("#loggedEmail").val();

            console.log("email :", email);
            console.log("loggedEmail :", loggedEmail);

            if (loggedEmail === email)
                return true;

            return false;
        }

        // 이메일 전송함수
        function sendEmailVerificationCode() {
            // 전송할 email 값을 가져온다.
            const email = $("#memberEmail").val().trim();

            // 이메일 형식에 맞지 않으면 alert 창 표시
            if (!isValidEmail(email)) {  // 이메일 형식이 맞지 않으면
                $("#emailError").text("유효한 이메일 주소를 입력하세요.").show().css("color", "red"); // 경고 메시지
                return;  // 전송 중단
            }

            $("#emailError").text("잠시만 기다려주세요...").show().css("color", "blue");

            // ajax로 받은 이메일에 이메일 전송 요청
            $.ajax({
                url: '/member/reSendEmail',
                type: 'post',
                data: {email: email},
                success: function (response) {
                    // if문으로 response 값이 true 이면 중복되는 값이 있고 false 면 중복되는 값이 없다.
                    if (response.duplication) {
                        // 전달받은 값이 true 면 중복임으로 경고 메시지
                        if (!response.loginUser) {
                            $("#emailError").text("이미 존재하는 이메일입니다.").show().css("color", "red"); // 경고 메시지
                        } else { // 이메일 체크 안 하도록 설정
                            $("#emailError").text("인증 완료된 이메일입니다.").show().css("color", "blue"); // 경고 메시지
                        }
                    } else {
                        // 전달받은 값이 false 면 중복되지 않고 이메일이 전송되었음으로 아래 메시지 출력
                        $("#emailError").text("이메일 전송에 성공하였습니다.").show().css("color", "blue");
                    }
                },
                error: function () {
                    // ajax 요청 실패시 메시지 보여준다.
                    $("#emailError").text("이메일 전송 요청에 실패했습니다.").show().css("color", "red"); // 경고 메시지
                }
            });
        }

        // 이메일 인증번호 검증
        function verifyEmailCode() {
            // 인증번호
            const emailCode = $("#emailCode").val();
            // ajax로 인증번호 검증 요청
            $.ajax({
                url: '/member/verifyEmail',
                type: 'POST',
                data: {emailCode: emailCode},
                // ajax로 요청 성공시 "인증 성공" or "인증 실패" 둘중 하나의 메시지를 전달받는다.
                success: function (response) {
                    // 인증성공, 인증실패 결과에 따라 띄워준다.
                    if (response === "인증 성공") {
                        // 인증성공 메시지 출력
                        $("#emailCodeError").text(response).show().css("color", "blue");
                        // 성공시 인증확인을 위한 emailDuplicationCheck를 y로 변경
                        $("#emailDuplicationCheck").val("y");
                        // 인증성공시 이메일과 인증번호를 수정불가 하도록 변경
                        $('#memberEmail').attr('readonly', true);
                        $('#emailCode').attr('readonly', true);
                    } else {
                        // 리턴받은 경고메시지를 출력
                        $("#emailCodeError").text(response).show().css("color", "red"); // 경고 메시지
                    }
                },
                error: function () {
                    // 인증번호 요청 실패시 alert 출력
                    $("#emailCodeError").text("인증번호 확인 요청에 실패했습니다.").show().css("color", "red"); // 경고 메시지
                }
            });
        }

        // 로그인한 닉네임과 동일한지 여부
        function isLoggedNickname() {
            var nickname = $("#memberNickname").val().trim();
            var loggedNickname = $("#loggedNickname").val();

            console.log("")

            if (nickname === loggedNickname)
                return true;
            return false;
        }

        // 닉네임 중복확인 클릭시 실행되는 함수
        function nickDoubleCheck() {
            const memberNickname = $("#memberNickname").val().trim();

            if (memberNickname === "") {
                $("#nickError").text("닉네임을 입력하세요.").show().css("color", "red");
                return;
            }
            // 아이디 중복확인 ajax 요청
            $.ajax({
                url: '/find/reNickCheck',
                type: 'POST',
                data: {memberNickname: memberNickname},
                success: function (response) {
                    // 닉네임이 있으면 true 없으면 false 값을 가져온다.
                    if (response.duplication) {
                        if (!response.loginUser) {
                            $("#nickError").text("이미 존재하는 닉네임입니다.").show().css("color", "red");
                            $("#nickDuplicationCheck").val("y");
                        } else { // 이메일 체크 안 하도록 설정
                            $("#nickError").text("확인 완료된 닉네임입니다.").show().css("color", "blue");
                            $("#nickDuplicationCheck").val("y");
                        }
                    } else {
                        // 사용 가능한 닉네임일 때
                        $("#nickError").text("중복 확인 완료.").show().css("color", "blue");
                        // 인증절차 승인을 위해서 값을 "y"로 변경시킨다.
                        $('#memberNickname').attr('readonly', true);
                        $("#nickDuplicationCheck").val("y");
                    }
                },
                error: function () {
                    alert("닉네임 중복 체크에 실패하였습니다.");
                }
            })
        }

        //제출 전 체크
        function check() {
            // event prevent
            console.log("체크 함수 실행됨");
            //3가지 인증절차를 모두 통과하였는지 확인하기 위해 값을 가져온다. 값이 "y"가 아니면 인증이 모두 성공하지 못한것이다.
            let passwordDuplicationCheck = $('#passwordDuplicationCheck').val();
            let emailDuplicationCheck = $("#emailDuplicationCheck").val();
            let nickDuplicationCheck = $('#nickDuplicationCheck').val();

            // 비밀번호 유효성 검사 통과했는지 확인
            if (!validatePassword()) {
                alert("비밀번호를 규칙에 맞게 입력해 주십시오.");
                return false;
            }

            // 비밀번호 규약을 제대로 인증받았는지 확인
            if (passwordDuplicationCheck === "n") {
                alert("비밀번호를 정확히 입력해 주십시오.");
                return false;
            }


            // 이메일 인증절차를 통과하였는지 확인
            if (!(isLoggedEmail() || emailDuplicationCheck === "y")) {
                console.log("isLoggedEmail : ", isLoggedEmail());
                console.log("emailDuplicationCheck : ", emailDuplicationCheck);
                alert("이메일을 인증하여 주십시오.");
                return false;
            }

            // 닉네임 인증절차를 통과하였는지 확인
            if (!(isLoggedNickname() || nickDuplicationCheck === "y")) {
                console.log("isLoggedNickname : ", isLoggedNickname());
                console.log("nickDuplicationCheck : ", nickDuplicationCheck);

                alert("닉네임 중복확인이 이루어지지 않았습니다.");
                return false;
            }

            return true;


        }
    </script>

</head>
<body>
<!-- 네비게이션 구역 -->
<div class="navigationContainer">

    <!-- 로고 -->
    <div class="logo">
        <a href="/">
            <img src="/images/logo.png" class="logoImg">
        </a>
    </div>

    <!-- 우리는 -->
    <div class="projectInfo">
        <a href="/info/service">우리는</a>
    </div>

    <!-- 나눠요 -->
    <div class="projectInfo">
        <a href="/share/list">나눠요</a>
    </div>

    <!-- 버려요 -->
    <div class="projectInfo">
        <a href="/recycle/list">버려요</a>
    </div>

    <!-- 오른쪽 정렬 -->
    <div class="rightGroup">
        <!-- 로그인 하지 않았을시 보여주는 페이지 -->
        <th:block sec:authorize="not isAuthenticated()">
            <!-- 회원가입 -->
            <div class="join">
                  <span class="joinHover">
                      <a href="/member/join">회원가입</a>
                  </span>
            </div>

            <!-- 로그인 -->
            <div class="login">
                <a href="/member/loginForm">
                      <span class="loginHover">
                          로그인
                      </span>
                </a>
            </div>
        </th:block>

        <!-- 로그인 하였을시 보여줄 페이지 -->
        <th:block sec:authorize="isAuthenticated()">
            <!-- 나눔 쪽지 -->
            <div class="message" id="messages">
                  <span class="messageHover">
                      나눔 이야기&nbsp;<span class="badge" id="badge">(0)</span> <!-- 알림 기본값 0 -->
                  </span>
            </div>

            <div id="messagesModal" class="modal">
                <div class="modal-content">
                    <span id="messagesClose" class="close">&times;</span>
                    <h2>쪽지 목록</h2>
                </div>
            </div>

            <div class="mypage">
                <a th:href="@{/myPage/view}">
                      <span class="mypageHover">
                          마이페이지
                      </span>
                </a>
            </div>

            <!-- 로그아웃 -->
            <div class="logout">
                <a th:href="@{/member/logout}">
                      <span class="logoutHover">
                          로그아웃
                      </span>
                </a>
            </div>

        </th:block>

    </div>
</div>

<!-- 공백 -->
<div class="blankContainer"></div>

<!-- 프로필 수정 form  -->
<form th:action="@{/myPage/profileEdit}" method="post" id="modifyPost">

    <!-- mainContainer -->
    <div id="mainContainer">

        <!-- 프로필 수정 영역 -->
        <div id="modifyArea">
            <!-- 프로필 수정 타이틀 영역 -->
            <div id="modifyTitleArea">
                <!-- 프로필 수정 타이틀 -->
                <div id="modifyTitle">
                    <b style="font-size: large">프로필 수정</b>
                </div>
            </div>

            <!-- 프로필 이미지 영역 -->
            <div id="imageArea">
                <div id="imageEdit">
                    <button type="button" id="imageChangeBtn" class="imageChange">
                        <img id="profileImage"
                             alt="프로필 이미지"
                             th:src="@{/member/profileDownload(memberNum=${member.memberNum})}"
                        />
                    </button>
                    <input type="file" id="fileInput" style="display:none;" accept="image/*"/>
                </div>
            </div>

            <!-- 아이디 영역 -->
            <div id="idArea">
                <!-- 아이디 상단 영역 -->
                <div id="idUpsideArea">
                    <!-- 아이디 타이틀 -->
                    <div id="idTitle">
                        <b>아이디</b>
                    </div>
                </div>

                <!-- 아이디_input 영역 -->
                <div id="idInputArea">
                    <!-- 아이디_input -->
                    <input
                            type="text" name="memberId" id="memberId" class="memberId" maxlength="12"
                            th:value="${member.memberId}" readonly>
                    <!-- 아이디 입력 메시지 출력 -->
                    <div id="idError"></div>
                    <span>*아이디는 변경 불가합니다.</span>
                </div>
            </div>

            <!-- 비밀번호 영역 -->
            <div id="passwordArea">
                <!-- 비밀번호 상단 영역 -->
                <div id="passwordUpsideArea">
                    <!-- 비밀번호 타이틀 -->
                    <div id="passwordTitle">
                        <b>비밀번호 변경</b>
                    </div>
                </div>

                <!-- 비밀번호_input 영역 -->
                <div id="passwordInputArea">
                    <!-- 비밀번호_input -->
                    <input type="password" name="memberPw" id="memberPw" class="memberPw">
                    <!-- 비밀번호 입력 메시지 출력 -->
                    <div id="passwordError"></div>
                </div>
            </div>

            <!-- 비밀번호 확인 영역 -->
            <div id="pwCheckArea">
                <!-- 비밀번호 확인 상단 영역 -->
                <div id="pwCheckUpsideArea">
                    <!-- 비밀번호 확인 타이틀 -->
                    <div id="pwCheckTitle">
                        <b>비밀번호 확인</b>
                    </div>
                </div>

                <!-- 비밀번호 확인_input 영역 -->
                <div id="pwCheckInputArea">
                    <!-- 비밀번호 확인_input -->
                    <input type="password" name="pwCheck" id="pwCheck" class="pwCheck">
                    <!-- 비밀번호 확인 메시지 출력 -->
                    <div id="pwCheckError"></div>
                </div>
            </div>

            <!-- 이메일 영역 -->
            <div id="emailArea">
                <!-- 이메일 상단 영역 -->
                <div id="emailUpsideArea">
                    <!-- 이메일 타이틀 -->
                    <div id="emailTitle">
                        <b>이메일</b><span style="color: red">*</span>
                    </div>
                    <!-- 이메일 인증 -->
                    <div id="emailButton" onclick="sendEmailVerificationCode()">인증번호 전송</div>
                </div>

                <!-- 이메일_input 영역 -->
                <div id="emailInputArea">
                    <!-- 이메일_input -->
                    <input type="text" name="memberEmail" id="memberEmail" class="memberEmail"
                           th:value="${member.memberEmail}">
                    <br>
                    <!-- 이메일 입력 메시지 출력 -->
                    <div id="emailError"></div>
                </div>
            </div>


            <!-- 인증번호 인증 영역 -->
            <div id="emailCodeArea">
                <!-- 인증번호 인증 상단 영역 -->
                <div id="emailCodeUpsideArea">
                    <!-- 인증번호 인증 타이틀 -->
                    <div id="emailCodeTitle">
                        <b>인증번호</b>
                    </div>
                    <!-- 인증번호 인증 -->
                    <div id="codeButton" onclick="verifyEmailCode()">
                        인증번호 확인
                    </div>
                </div>

                <!-- 인증번호_input 영역 -->
                <div id="emailCodeInput">
                    <!-- 인증번호_input -->
                    <input type="text" id="emailCode" class="emailCode">
                    <!-- 인증번호 입력 메시지 출력 -->
                    <div id="emailCodeError">
                        인증번호를 입력해 주세요.
                    </div>
                </div>
            </div>

            <!-- 닉네임 영역 -->
            <div id="nickArea">
                <!-- 닉네임 상단 영역 -->
                <div id="nickUpsideArea">
                    <!-- 닉네임 타이틀 -->
                    <div id="nickTitle">
                        <b>닉네임</b><span style="color: red">*</span>
                    </div>
                    <!-- 닉네임 찾기 -->
                    <div id="nickDoubleCheck" onclick="nickDoubleCheck()">닉네임 중복확인</div>
                </div>

                <!-- 닉네임_input 영역 -->
                <div id="nickInputArea">
                    <!-- 닉네임_input -->
                    <input type="text" name="memberNickname" id="memberNickname" class="memberNickname" maxlength="12"
                           th:value="${member.memberNickname}">
                    <!-- 닉네임 입력 메시지 출력 -->
                    <div id="nickError">
                        닉네임를 입력해 주세요.
                    </div>
                </div>
            </div>

            <!-- 버튼 영역 -->
            <div id="buttonArea">
                <!-- 회원가입 버튼 -->
                <button type="submit" id="modifyButton">수정</button>
            </div>
        </div>
    </div>

    <!--  로그인한 사용자의 이메일 정보  -->
    <input type="hidden" id="loggedEmail" th:value="${member.memberEmail}">
    <!--  로그인한 사용자의 닉네임 정보  -->
    <input type="hidden" id="loggedNickname" th:value="${member.memberNickname}">


    <!-- 닉네임중복확인했는지 여부 -->
    <input type="hidden" id="nickDuplicationCheck"/>
    <!-- 이메일 인증하였는지 여부 -->
    <input type="hidden" id="emailDuplicationCheck"/>
    <!-- 비밀번호 규약을 제대로 통과하였는지 여부 체크 -->
    <input type="hidden" id="passwordDuplicationCheck"/>


</form>

<!-- 저작권 정보 -->
<div class="rightContainer">
    © 2024 Team San, Hai. All rights reserved.
</div>

</body>

</html>